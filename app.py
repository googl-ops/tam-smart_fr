import streamlit as st
from google import genai

st.title("๐ ูุงุดู ุงูููุงุฐุฌ ุงููุชุงุญุฉ - ููุตุฉ ุชุงู")

# ุฌูุจ ุงูููุชุงุญ ูู ุงูุฃุณุฑุงุฑ ููุง ูู ูุณูู ูู ููุฏู
api_key = st.secrets.get('Gemini_API_Key')

if api_key:
    try:
        # ุชููุฆุฉ ุงูุนููู
        client = genai.Client(api_key=api_key)
        
        st.info("ุฌุงุฑู ูุญุต ุงูููุงุฐุฌ ุงููุฑุชุจุทุฉ ุจููุชุงุญู...")
        
        # ุฌูุจ ูุงุฆูุฉ ุงูููุงุฐุฌ
        models = client.models.list()
        
        # ุนุฑุถ ุงูููุงุฐุฌ ูู ุฌุฏูู ููุธู
        model_data = []
        for m in models:
            model_data.append({
                "ุงุณู ุงููููุฐุฌ (Model Name)": m.name,
                "ุงูุฅุตุฏุงุฑ": m.version,
                "ุงููุตู": m.description
            })
            
        if model_data:
            st.success(f"ุชู ุงูุนุซูุฑ ุนูู {len(model_data)} ูููุฐุฌ ูุชุงุญ!")
            st.table(model_data)
            
            st.markdown("### ๐ก ููุงุญุธุฉ ุชูููุฉ:")
            st.write("ุงูุณุฎ ุงูุงุณู ุงูููุฌูุฏ ูู ุนููุฏ **ุงุณู ุงููููุฐุฌ** ูุงุณุชุฎุฏูู ุชูุงูุงู ููุง ูู ูู ููุฏ 'ุงููุฑุงููุฏู ุงูุฐูู'.")
        else:
            st.warning("ุงูููุชุงุญ ูุนููุ ูููู ูู ูุชู ุงูุนุซูุฑ ุนูู ููุงุฐุฌ ููุนูุฉ ูู.")
            
    except Exception as e:
        st.error(f"ูุดู ุงูุงุชุตุงู ุฃุซูุงุก ูุดู ุงูููุงุฐุฌ: {e}")
else:
    st.error("ุงูููุชุงุญ ุบูุฑ ููุฌูุฏ ูู ุงูุฃุณุฑุงุฑ (Secrets).")
